{"title":"vscode+wsl+windows terminal美化和搭建linux开发环境","date":"2020-03-11T03:23:23.000Z","date_formatted":{"ll":"2020年3月11日","L":"2020/03/11","MM-DD":"03-11"},"author":"zao","link":"2020/03/11/articles/vscode-wsl-windows-terminal美化和搭建linux开发环境","tags":["liunx","terminal","vscode","wsl"],"categories":["articles"],"updated":"2020-03-11T03:23:23.000Z","content":"<p><a href=\"https://link.zhihu.com/?target=https%3A//www.hansomezao.com/2020/03/11/vscode-wsl-windows-terminal%E7%BE%8E%E5%8C%96%E5%92%8C%E6%90%AD%E5%BB%BAlinux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83\" target=\"_blank\">链接➡</a></p>\n<p>vscode + wsl + windows terminal 美化和搭建linux开发环境</p>\n<p>没钱买mac,windwos下命令行挺难用的,之前一直用cmder还不错,但后期卡卡的,改用了windows terminal,真香啊,速度和外观都不错,刚好最近在学linux,一直用的阿里云做测试,想着统一一下包管理和命令行,发现了wsl这个东西,就打算改造一下windows,个人电脑系统为windwos 10 1909,详细操作如下:</p>\n<h2 id=\"1-开启wsl、安装linux\">1. 开启wsl、安装linux<a href=\"#1-开启wsl、安装linux\" title=\"1. 开启wsl、安装linux\"></a></h2><p>被这个坑惨了,windows版本更新不上,一直勾选不了,后来下了补丁,打开windows功能一片空白,我服了,唉,最后只有重装系统了</p>\n<p><img src=\"https://pic2.zhimg.com/80/v2-cf4071bca4e0543090fad86e6bb023c4_720w.jpg\" class=\"φcy\" alt=\"img\"></p>\n<p>在windwos商店安装ubuntu或者其他liunx</p>\n<h2 id=\"2-配置ubuntu\">2. 配置ubuntu<a href=\"#2-配置ubuntu\" title=\"2. 配置ubuntu\"></a></h2><p>下载完ubuntu,会设置用户名和密码,输入密码时shell上并不可见,这里不用担心。</p>\n<h3 id=\"替换下载源为阿里源\">替换下载源为阿里源<a href=\"#替换下载源为阿里源\" title=\"替换下载源为阿里源\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br><span class=\"line\">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class=\"line\">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class=\"line\">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class=\"line\">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class=\"line\">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class=\"line\">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class=\"line\">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class=\"line\">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class=\"line\">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class=\"line\">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get upgade</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安装zsh、oh-my-zsh来美化bash\">安装zsh、oh-my-zsh来美化bash<a href=\"#安装zsh、oh-my-zsh来美化bash\" title=\"安装zsh、oh-my-zsh来美化bash\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install zsh</span><br><span class=\"line\"></span><br><span class=\"line\">sh -c &quot;$(curl -fsSL https:&#x2F;&#x2F;raw.github.com&#x2F;ohmyzsh&#x2F;ohmyzsh&#x2F;master&#x2F;tools&#x2F;install.sh)&quot;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"下载node、n、git、yarn、nrm、yrm\">下载node、n、git、yarn、nrm、yrm<a href=\"#下载node、n、git、yarn、nrm、yrm\" title=\"下载node、n、git、yarn、nrm、yrm\"></a></h3><p>略</p>\n<h2 id=\"配置windows-terminal\">配置windows terminal<a href=\"#配置windows-terminal\" title=\"配置windows terminal\"></a></h2><h3 id=\"打开windows-terminal设置\">打开windows terminal设置<a href=\"#打开windows-terminal设置\" title=\"打开windows terminal设置\"></a></h3><ol><li>设置defaultProfile即默认打开的terminal</li>\n</ol><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"$schema\"</span>: <span class=\"string\">\"https://aka.ms/terminal-profiles-schema\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// \"defaultProfile\": \"&#123;61c54bbd-c2c6-5271-96e7-009a87ff44bf&#125;\",</span></span><br><span class=\"line\">    <span class=\"attr\">\"defaultProfile\"</span>: <span class=\"string\">\"&#123;2c4de342-38b7-51cf-b940-2309a097f518&#125;\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"copyOnSelect\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">\"profiles\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"defaults\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Put settings here that you want to apply to all profiles</span></span><br><span class=\"line\">            <span class=\"attr\">\"startingDirectory\"</span>: <span class=\"string\">\"./\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"useAcrylic\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"acrylicOpacity\"</span>: <span class=\"number\">0.8</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">\"list\"</span>: [&#123;</span><br><span class=\"line\">                <span class=\"comment\">// Make changes here to the powershell.exe profile</span></span><br><span class=\"line\">                <span class=\"attr\">\"guid\"</span>: <span class=\"string\">\"&#123;61c54bbd-c2c6-5271-96e7-009a87ff44bf&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Windows PowerShell\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"commandline\"</span>: <span class=\"string\">\"powershell.exe\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"hidden\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"useAcrylic\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"comment\">// Make changes here to the cmd.exe profile</span></span><br><span class=\"line\">                <span class=\"attr\">\"guid\"</span>: <span class=\"string\">\"&#123;0caa0dad-35be-5f56-a8ff-afceeeaa6101&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"cmd\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"commandline\"</span>: <span class=\"string\">\"cmd.exe\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"hidden\"</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"attr\">\"guid\"</span>: <span class=\"string\">\"&#123;2c4de342-38b7-51cf-b940-2309a097f518&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"hidden\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Ubuntu\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"source\"</span>: <span class=\"string\">\"Windows.Terminal.Wsl\"</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"attr\">\"guid\"</span>: <span class=\"string\">\"&#123;b453ae62-4e3d-5e58-b989-0a998ec441b8&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"hidden\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Azure Cloud Shell\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"source\"</span>: <span class=\"string\">\"Windows.Terminal.Azure\"</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// Add custom color schemes to this array</span></span><br><span class=\"line\">    <span class=\"attr\">\"schemes\"</span>: [],</span><br><span class=\"line\">    <span class=\"comment\">// Add any keybinding overrides to this array.</span></span><br><span class=\"line\">    <span class=\"comment\">// To unbind a default keybinding, set the command to \"unbound\"</span></span><br><span class=\"line\">    <span class=\"attr\">\"keybindings\"</span>: []</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"系统级右键菜单写入注册表\">系统级右键菜单,写入注册表<a href=\"#系统级右键菜单写入注册表\" title=\"系统级右键菜单,写入注册表\"></a></h3><ol><li><code>win+r</code>输入regedit找到计算机\\HKEY_CLASSES_ROOT\\Directory\\Background\\shell 新建项<code>Terminal</code>(名字随便取)</li>\n</ol><p><img src=\"https://pic4.zhimg.com/80/v2-6b09f9affd4875ab4a03f94058acf236_720w.jpg\" class=\"φcy\" alt=\"img\"></p>\n<ol><li><code>默认</code>为右键文本</li>\n</ol><p><img src=\"https://pic2.zhimg.com/80/v2-2c21f3aa952df670758f56846aa32475_720w.jpg\" class=\"φcy\" alt=\"img\"></p>\n<ol><li><code>Icon</code>为图标,值为图标地址,自己在官网找的ico</li>\n<li>新建项command,在默认下键入值<code>C:\\Users\\niwen\\AppData\\Local\\Microsoft\\WindowsApps\\wt.exe</code> 这里的niwen你要改为你自己电脑用户的名称</li>\n<li>将同样配置写在计算机\\HKEY_CLASSES_ROOT\\Directory\\shell下</li>\n<li>配置windows terminal的<code>&quot;startingDirectory&quot;: &quot;./&quot;</code></li>\n</ol><p>试一试右键点击Terminal here</p>\n<p><img src=\"https://pic1.zhimg.com/80/v2-dfc2d097e85629b22122624dc1e46c9e_720w.jpg\" class=\"φcy\" alt=\"img\"></p>\n<h2 id=\"接入vscode\">接入vscode<a href=\"#接入vscode\" title=\"接入vscode\"></a></h2><p>下载插件Remote - WSL</p>\n<p>打开<code>setting.json</code>配置terminal打开方式 “terminal.integrated.shell.windows”: “C:\\WINDOWS\\System32\\wsl.exe” 现在试一试效果,舒服</p>\n<p><img src=\"https://pic2.zhimg.com/80/v2-42533764e724e7f2e5342b8407c134ee_720w.jpg\" class=\"φcy\" alt=\"img\"></p>\n<h2 id=\"接入code-runner\">接入code runner<a href=\"#接入code-runner\" title=\"接入code runner\"></a></h2><p>现在你的所有包都放在wsl中,跑code runner是不行的,除非你自己又在windows上安装一遍</p>\n<p>只需要在<code>setting.json</code>中配置</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"code-runner.runInTerminal\": true,</span><br><span class=\"line\">    \"code-runner.terminalRoot\": \"/mnt/\",</span><br></pre></td></tr></table></figure>\n\n<p>就完事了</p>\n<hr>\n<p>终于结束了,我是这样配置的,如果有什么问题欢迎提出</p>\n","prev":{"title":"前端下载后台返回的文件流","link":"2020/04/16/articles/前端下载后台返回的文件流"},"next":{"title":"hooks迁移-实现class中setState的效果","link":"2020/03/03/articles/hooks迁移-实现class中setState的效果"},"plink":"https://www.hansomezao.com/2020/03/11/articles/vscode-wsl-windows-terminal美化和搭建linux开发环境/","toc":[{"id":"1-开启wsl、安装linux","title":"1. 开启wsl、安装linux","index":"1"},{"id":"2-配置ubuntu","title":"2. 配置ubuntu","index":"2","children":[{"id":"替换下载源为阿里源","title":"替换下载源为阿里源","index":"2.1"},{"id":"安装zsh、oh-my-zsh来美化bash","title":"安装zsh、oh-my-zsh来美化bash","index":"2.2"},{"id":"下载node、n、git、yarn、nrm、yrm","title":"下载node、n、git、yarn、nrm、yrm","index":"2.3"}]},{"id":"配置windows-terminal","title":"配置windows terminal","index":"3","children":[{"id":"打开windows-terminal设置","title":"打开windows terminal设置","index":"3.1"},{"id":"系统级右键菜单写入注册表","title":"系统级右键菜单,写入注册表","index":"3.2"}]},{"id":"接入vscode","title":"接入vscode","index":"4"},{"id":"接入code-runner","title":"接入code runner","index":"5"}],"reward":true,"copyright":{"custom":"转载请加上署名!"}}