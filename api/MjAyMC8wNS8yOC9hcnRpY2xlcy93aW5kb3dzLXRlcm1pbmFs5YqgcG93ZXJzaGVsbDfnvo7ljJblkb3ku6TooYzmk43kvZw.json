{"title":"windows terminal加powershell7美化命令行操作","date":"2020-05-28T03:36:53.000Z","date_formatted":{"ll":"2020年5月28日","L":"2020/05/28","MM-DD":"05-28"},"author":"zao","link":"2020/05/28/articles/windows-terminal加powershell7美化命令行操作","tags":["powershell","terminal"],"categories":["articles"],"updated":"2020-05-28T03:36:53.000Z","content":"<p>之前写过一篇文章<a href=\"https://www.hansomezao.com/2020/03/11/articles/vscode-wsl-windows-terminal美化和搭建linux开发环境\" target=\"_blank\">vscode+wsl+windows terminal美化和搭建linux开发环境</a></p>\n<p>[博客链接](<a href=\"https://www.hansomezao.com/2020/05/28/articles/windows\" target=\"_blank\">https://www.hansomezao.com/2020/05/28/articles/windows</a> terminal加powershell7美化命令行操作)</p>\n<p>wsl挺好用的，不过比较麻烦，而且windows下的liunx子系统不完整，很多东西不能用，毕竟不是虚拟机。看到powershell7，心动了，本篇文章就如标题所言美化命令行操作。</p>\n<h2 id=\"下载windows-terminal\">下载windows terminal<a href=\"#下载windows-terminal\" title=\"下载windows terminal\"></a></h2><p>Microsoft Store就有下载</p>\n<h2 id=\"下载并安装powershell7\">下载并安装powershell7<a href=\"#下载并安装powershell7\" title=\"下载并安装powershell7\"></a></h2><p>选个最新的就行，我下载的是7.1.0-preview3，<a href=\"https://github.com/PowerShell/PowerShell/releases\" target=\"_blank\">powershell7下载</a></p>\n<h2 id=\"下载scoop或者-chocolatey-windows包管理工具\">下载scoop或者 chocolatey (windows包管理工具)<a href=\"#下载scoop或者-chocolatey-windows包管理工具\" title=\"下载scoop或者 chocolatey (windows包管理工具)\"></a></h2><p>也可以用powershell的<code>Install-Module</code>，不过还是推荐使用<code>scoop</code>或者<code>chocolatey</code></p>\n<p>以<code>scoop</code>为例:</p>\n<p>安装<code>scoop</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Invoke-Expression (New-Objec System.Net.WebClient).DownloadString('https://get.scoop.sh')</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> or</span></span><br><span class=\"line\">iwr -useb get.scoop.sh | iex</span><br><span class=\"line\">复制代码</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"美化powershell\">美化powershell<a href=\"#美化powershell\" title=\"美化powershell\"></a></h2><p>这里主要用到两个包，<a href=\"https://github.com/PowerShell/PSReadLine\" target=\"_blank\">PSReadLine</a>命令行提示记录，<a href=\"https://starship.rs/\" target=\"_blank\">starship</a>美化显示样式，<a href=\"https://github.com/microsoft/terminal/releases/tag/1708.14008\" target=\"_blank\">colortool</a>颜色配置</p>\n<ol><li><p>安装</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Install-Module -Name PSReadLine -AllowPrerelease -Force # PSReadLine</span><br><span class=\"line\">scoop install colortool</span><br><span class=\"line\">scoop install starship</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>写powershell的配置文件</p>\n<p>打开配置文件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">notepad.exe $Profile</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> or 用vscode</span></span><br><span class=\"line\">code $Profile</span><br></pre></td></tr></table></figure>\n\n<p>写入</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#-----------------------------------------------------PSReadline</span></span><br><span class=\"line\"><span class=\"comment\"># 设置 Tab 键补全</span></span><br><span class=\"line\">Set-PSReadlineKeyHandler -Key Tab -Function Complete</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 设置 Ctrl+d 为菜单补全和 Intellisense</span></span><br><span class=\"line\"><span class=\"comment\"># Set-PSReadLineKeyHandler -Key \"Tab\" -Function MenuComplete</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 设置 Ctrl+d 为退出 PowerShell</span></span><br><span class=\"line\">Set-PSReadlineKeyHandler -Key \"Ctrl+d\" -Function ViExit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 设置 Ctrl+z 为撤销</span></span><br><span class=\"line\">Set-PSReadLineKeyHandler -Key \"Ctrl+z\" -Function Undo</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 设置向上键为后向搜索历史记录</span></span><br><span class=\"line\">Set-PSReadLineKeyHandler -Key UpArrow -Function HistorySearchBackward</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 设置向下键为前向搜索历史纪录</span></span><br><span class=\"line\">Set-PSReadLineKeyHandler -Key DownArrow -Function HistorySearchForward</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 一些PSReadline配置</span></span><br><span class=\"line\">$PSReadLineOptions = @&#123;</span><br><span class=\"line\">    EditMode = \"Emacs\"</span><br><span class=\"line\">    HistoryNoDuplicates = $true</span><br><span class=\"line\">    HistorySearchCursorMovesToEnd = $true</span><br><span class=\"line\">    Colors = @&#123;</span><br><span class=\"line\">        <span class=\"comment\"># 提示文字颜色，原来的颜色太浅了，我这里换了</span></span><br><span class=\"line\">        Prediction = '#8F8B8B'</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">Set-PSReadLineOption @PSReadLineOptions</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#-----------------------------------------------------starship</span></span><br><span class=\"line\">Invoke-Expression (&amp;starship init powershell)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>配置<code>starship</code></p>\n<p>创建这个文件夹并创建<code>startship.toml</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p ~/.config &amp;&amp; touch ~/.config/starship.toml</span><br></pre></td></tr></table></figure>\n\n<p>如果你创建失败，说明有这个<code>.config</code>这个文件夹，直接</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">touch ~/.config/starship.toml</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">notepad.exe ~/.config/starship.toml</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> or</span></span><br><span class=\"line\">code ~/.config/starship.toml</span><br></pre></td></tr></table></figure>\n\n<p>具体配置看官网，这里出现的小方框或者乱码是字体缺失，我这里用的是<code>FiraCode Nerd Font</code>字体，这个后面再说</p>\n<p>大概像这个样子</p>\n</li>\n</ol><p><img src=\"https://user-gold-cdn.xitu.io/2020/5/28/1725bded186ebe13?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" class=\"φcy\" alt=\"img\"></p>\n   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[character]      </span><br><span class=\"line\">symbol &#x3D; &quot;➜&quot;    </span><br><span class=\"line\"></span><br><span class=\"line\">[aws]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[battery]</span><br><span class=\"line\">full_symbol &#x3D; &quot;&quot;</span><br><span class=\"line\">charging_symbol &#x3D; &quot;&quot;</span><br><span class=\"line\">discharging_symbol &#x3D; &quot;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[conda]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[docker]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[elixir]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[elm]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[git_branch]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[golang]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[haskell]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[hg_branch]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[java]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[julia]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[memory_usage]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[nix_shell]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[nodejs]</span><br><span class=\"line\"># symbol &#x3D; &quot; &quot;</span><br><span class=\"line\">symbol&#x3D;&quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[package]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[php]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[python]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[ruby]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">[rust]</span><br><span class=\"line\">symbol &#x3D; &quot; &quot;</span><br></pre></td></tr></table></figure>\n\n<ol><li><p>配置<code>colortool</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">colortool -s # 颜色表</span><br><span class=\"line\">colortool  OneHalfDark.itermcolors # colortools后面跟主题名字就行</span><br></pre></td></tr></table></figure>\n\n\n\n</li>\n</ol><p><img src=\"https://user-gold-cdn.xitu.io/2020/5/28/1725bded1c4af2ee?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" class=\"φcy\" alt=\"img\"></p>\n<h2 id=\"下载并配置firacode-nerd-font字体\">下载并配置<code>FiraCode Nerd Font</code>字体<a href=\"#下载并配置firacode-nerd-font字体\" title=\"下载并配置FiraCode Nerd Font字体\"></a></h2><ol><li><p>下载<code>FiraCode Nerd Font</code>字体</p>\n<p>打开<a href=\"https://www.nerdfonts.com/font-downloads\" target=\"_blank\">nerdfonts</a>网站，滑到最下面找到<code>FiraCode Nerd Font</code>下载解压，全选&amp;右键安装</p>\n</li>\n</ol><p><img src=\"https://user-gold-cdn.xitu.io/2020/5/28/1725bded213b2b65?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" class=\"φcy\" alt=\"img\"></p>\n<ol><li><p>在<code>vscode</code>中配置字体</p>\n<p>打开<code>vscode</code>配置文件，写入</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"editor.fontFamily\": \"FiraCode Nerd Font,Consolas, 'Courier New', monospace\"</span><br></pre></td></tr></table></figure>\n\n<p>这时候你打开<code>starship.toml</code>就可以看到缺失的字体了</p>\n</li>\n<li><p>在<code>windows terminal</code>中配置字体</p>\n<p>在后续<code>windows terminal</code>配置中见</p>\n</li>\n</ol><h2 id=\"配置windows-terminal\">配置windows terminal<a href=\"#配置windows-terminal\" title=\"配置windows terminal\"></a></h2><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"$schema\"</span>: <span class=\"string\">\"https://aka.ms/terminal-profiles-schema\"</span>,</span><br><span class=\"line\">    <span class=\"comment\">// \"defaultProfile\": \"&#123;61c54bbd-c2c6-5271-96e7-009a87ff44bf&#125;\",</span></span><br><span class=\"line\">    <span class=\"attr\">\"defaultProfile\"</span>: <span class=\"string\">\"&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"copyOnSelect\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">\"profiles\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"defaults\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"startingDirectory\"</span>: <span class=\"string\">\"./\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"useAcrylic\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"acrylicOpacity\"</span>: <span class=\"number\">0.8</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">\"list\"</span>: [&#123;</span><br><span class=\"line\">                <span class=\"attr\">\"guid\"</span>: <span class=\"string\">\"&#123;61c54bbd-c2c6-5271-96e7-009a87ff44bf&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Windows PowerShell\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"commandline\"</span>: <span class=\"string\">\"powershell.exe\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"hidden\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"useAcrylic\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"attr\">\"guid\"</span>: <span class=\"string\">\"&#123;0caa0dad-35be-5f56-a8ff-afceeeaa6101&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"cmd\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"commandline\"</span>: <span class=\"string\">\"cmd.exe\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"hidden\"</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"attr\">\"guid\"</span>: <span class=\"string\">\"&#123;2c4de342-38b7-51cf-b940-2309a097f518&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"hidden\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Ubuntu\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"source\"</span>: <span class=\"string\">\"Windows.Terminal.Wsl\"</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"attr\">\"guid\"</span>: <span class=\"string\">\"&#123;b453ae62-4e3d-5e58-b989-0a998ec441b8&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"hidden\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Azure Cloud Shell\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"source\"</span>: <span class=\"string\">\"Windows.Terminal.Azure\"</span></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"comment\">// powershell 7</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"attr\">\"guid\"</span>: <span class=\"string\">\"&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"hidden\"</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"PowerShell\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"commandline\"</span>: <span class=\"string\">\"C:/Program Files/PowerShell/7-preview/pwsh.exe -nologo\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"fontSize\"</span>: <span class=\"number\">12</span>,</span><br><span class=\"line\">                <span class=\"comment\">// 字体配置</span></span><br><span class=\"line\">                <span class=\"attr\">\"fontFace\"</span>: <span class=\"string\">\"FiraCode Nerd Font\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"historySize\"</span>: <span class=\"number\">9001</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"padding\"</span>: <span class=\"string\">\"5, 5, 20, 25\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"snapOnInput\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"colorScheme\"</span>: <span class=\"string\">\"Andromeda\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"source\"</span>: <span class=\"string\">\"Windows.Terminal.PowershellCore\"</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"schemes\"</span>: [ &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Andromeda\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"black\"</span>: <span class=\"string\">\"#000000\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"red\"</span>: <span class=\"string\">\"#cd3131\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"green\"</span>: <span class=\"string\">\"#05bc79\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"yellow\"</span>: <span class=\"string\">\"#e5e512\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"blue\"</span>: <span class=\"string\">\"#2472c8\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"purple\"</span>: <span class=\"string\">\"#bc3fbc\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"cyan\"</span>: <span class=\"string\">\"#0fa8cd\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"white\"</span>: <span class=\"string\">\"#e5e5e5\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"brightBlack\"</span>: <span class=\"string\">\"#666666\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"brightRed\"</span>: <span class=\"string\">\"#cd3131\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"brightGreen\"</span>: <span class=\"string\">\"#05bc79\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"brightYellow\"</span>: <span class=\"string\">\"#e5e512\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"brightBlue\"</span>: <span class=\"string\">\"#2472c8\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"brightPurple\"</span>: <span class=\"string\">\"#bc3fbc\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"brightCyan\"</span>: <span class=\"string\">\"#0fa8cd\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"brightWhite\"</span>: <span class=\"string\">\"#e5e5e5\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"background\"</span>: <span class=\"string\">\"#262a33\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"foreground\"</span>: <span class=\"string\">\"#e5e5e5\"</span></span><br><span class=\"line\">    &#125;],</span><br><span class=\"line\">    <span class=\"attr\">\"keybindings\"</span>: []</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>这个时候打开<code>windows terminal</code></p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/5/28/1725bded21d9e71b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" class=\"φcy\" alt=\"img\"></p>\n<h2 id=\"windows-terminal-加入系统右键\">windows terminal 加入系统右键<a href=\"#windows-terminal-加入系统右键\" title=\"windows terminal 加入系统右键\"></a></h2><p><code>win+r</code>输入regedit找到计算机\\HKEY_CLASSES_ROOT\\Directory\\Background\\shell 新建项<code>Terminal</code>(名字随便取)</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/5/28/1725bded21011fc9?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" class=\"φcy\" alt=\"img\"></p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/5/28/1725bded22d4bf28?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" class=\"φcy\" alt=\"img\"></p>\n<ol><li><p>选中<code>Terminal</code>，<code>(默认)</code>为写入右键的文本</p>\n</li>\n<li><p><code>Icon</code>为右键图标，自己找一个ico</p>\n</li>\n<li><p>右键Terminal新建项<code>command</code>，在默认下写入值<code>C:\\Users\\niwen\\AppData\\Local\\Microsoft\\WindowsApps\\wt.exe</code></p>\n<p>这里的<code>niwen</code>是我电脑用户的名称，你们自己找到<code>wt.exe</code>然后把地址写上去就行</p>\n</li>\n</ol><p>ok搞定现在试一下右键点击<code>Terminal Here</code></p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/5/28/1725bded21d9e71b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" class=\"φcy\" alt=\"img\"></p>\n","prev":{"title":"liunx终端美化（ubuntu）","link":"2020/07/10/articles/liunx终端美化（ubuntu）"},"next":{"title":"前端下载后台返回的文件流","link":"2020/04/16/articles/前端下载后台返回的文件流"},"plink":"https://www.hansomezao.com/2020/05/28/articles/windows-terminal加powershell7美化命令行操作/","toc":[{"id":"下载windows-terminal","title":"下载windows terminal","index":"1"},{"id":"下载并安装powershell7","title":"下载并安装powershell7","index":"2"},{"id":"下载scoop或者-chocolatey-windows包管理工具","title":"下载scoop或者 chocolatey (windows包管理工具)","index":"3"},{"id":"美化powershell","title":"美化powershell","index":"4"},{"id":"下载并配置firacode-nerd-font字体","title":"下载并配置FiraCode Nerd Font字体","index":"5"},{"id":"配置windows-terminal","title":"配置windows terminal","index":"6"},{"id":"windows-terminal-加入系统右键","title":"windows terminal 加入系统右键","index":"7"}],"reward":true,"copyright":{"custom":"转载请加上署名!"}}